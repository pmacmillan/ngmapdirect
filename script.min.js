var component=angular.module("mapComponent",[]);component.directive("map",function(){"use strict";var e=new google.maps.DirectionsRenderer,t=new google.maps.DirectionsService,n=new google.maps.Geocoder,r,i,s,o;s={restrict:"EAC",scope:{destination:"@",markerContent:"@",zoom:"=",type:"@",directions:"@"},replace:true,templateUrl:"map.html",link:function(s,u){s.init=function(){var e={zoom:s.zoom!==undefined?s.zoom:15,mapTypeId:s.type!==undefined?s.type.toLowerCase():"roadmap",streetViewControl:false};r=new google.maps.Map(document.getElementById("theMap"),e);s.endPoint=s.destination!==undefined?s.destination:"1600 Amphitheatre Parkway, Santa Clara County, CA";n.geocode({address:s.endPoint},function(e,t){var n=e[0].geometry.location;if(t===google.maps.GeocoderStatus.OK){r.setCenter(n);i=new google.maps.Marker({map:r,position:n,animation:google.maps.Animation.DROP});o=new google.maps.InfoWindow({content:s.markerContent!==undefined?s.markerContent:"Google HQ"});google.maps.event.addListener(i,"click",function(){return o.open(r,i)})}else{alert("Cannot Geocode")}})};s.init();s.getDirections=function(){var n={origin:s.origin,destination:s.endPoint,travelMode:google.maps.DirectionsTravelMode.DRIVING};t.route(n,function(t,n){return n===google.maps.DirectionsStatus.OK?e.setDirections(t):console.warn(n)});e.setMap(r);e.setPanel(document.getElementById("directionsList"))};s.clearDirections=function(){s.init();e.setPanel(null);s.origin=""}}};return s})
